{"ast":null,"code":"import Web3 from 'web3';\nimport { STOCK_ORACLE_ABI, STOCK_ORACLE_ADDRESS } from \"./contractInfo\";\nconst web3 = new Web3(\"http://localhost:8545\");\nconst stockQuote = new web3.eth.Contract(STOCK_ORACLE_ABI, STOCK_ORACLE_ADDRESS);\nexport const addStock = async (symbol, price, volume) => {\n  const accounts = await web3.eth.getAccounts();\n  const bytes4Symbol = web3.utils.fromAscii(symbol);\n  const tx = await stockQuote.methods.setStock(bytes4Symbol, price, volume).send({\n    from: accounts[0]\n  });\n  console.log(tx);\n};\nexport const getPriceStock = async symbol => {\n  const accounts = await web3.eth.getAccounts();\n  const bytes4Symbol = web3.utils.fromAscii(symbol);\n  const tx = await stockQuote.methods.getStockPrice(bytes4Symbol).call({\n    from: accounts[0]\n  });\n  console.log(tx);\n  return tx;\n};\nexport const getVolumeStock = async symbol => {\n  const accounts = await web3.eth.getAccounts();\n  const bytes4Symbol = web3.utils.fromAscii(symbol);\n  const tx = await stockQuote.methods.getStockVolume(bytes4Symbol).call({\n    from: accounts[0]\n  });\n  return tx;\n};","map":{"version":3,"sources":["/Users/samitannir/Desktop/BLOCKCHAIN/Design Patterns/oracle-demo-master/src/contract/actions.js"],"names":["Web3","STOCK_ORACLE_ABI","STOCK_ORACLE_ADDRESS","web3","stockQuote","eth","Contract","addStock","symbol","price","volume","accounts","getAccounts","bytes4Symbol","utils","fromAscii","tx","methods","setStock","send","from","console","log","getPriceStock","getStockPrice","call","getVolumeStock","getStockVolume"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AAEA,SAAQC,gBAAR,EAAyBC,oBAAzB,QAAoD,gBAApD;AACA,MAAMC,IAAI,GAAG,IAAIH,IAAJ,CAAS,uBAAT,CAAb;AACA,MAAMI,UAAU,GAAG,IAAID,IAAI,CAACE,GAAL,CAASC,QAAb,CAAsBL,gBAAtB,EAAuCC,oBAAvC,CAAnB;AACA,OAAO,MAAMK,QAAQ,GAAG,OAAOC,MAAP,EAAcC,KAAd,EAAoBC,MAApB,KAA8B;AAElD,QAAMC,QAAQ,GAAG,MAAMR,IAAI,CAACE,GAAL,CAASO,WAAT,EAAvB;AAEA,QAAMC,YAAY,GAAGV,IAAI,CAACW,KAAL,CAAWC,SAAX,CAAqBP,MAArB,CAArB;AACA,QAAMQ,EAAE,GAAE,MAAMZ,UAAU,CAACa,OAAX,CAAmBC,QAAnB,CAA4BL,YAA5B,EAAyCJ,KAAzC,EAA+CC,MAA/C,EAAuDS,IAAvD,CAA4D;AAACC,IAAAA,IAAI,EAAET,QAAQ,CAAC,CAAD;AAAf,GAA5D,CAAhB;AACAU,EAAAA,OAAO,CAACC,GAAR,CAAYN,EAAZ;AACH,CAPM;AASP,OAAO,MAAMO,aAAa,GAAG,MAAOf,MAAP,IAAiB;AAC1C,QAAMG,QAAQ,GAAG,MAAMR,IAAI,CAACE,GAAL,CAASO,WAAT,EAAvB;AACA,QAAMC,YAAY,GAAGV,IAAI,CAACW,KAAL,CAAWC,SAAX,CAAqBP,MAArB,CAArB;AACA,QAAMQ,EAAE,GAAE,MAAMZ,UAAU,CAACa,OAAX,CAAmBO,aAAnB,CAAiCX,YAAjC,EAA+CY,IAA/C,CAAoD;AAACL,IAAAA,IAAI,EAAET,QAAQ,CAAC,CAAD;AAAf,GAApD,CAAhB;AACAU,EAAAA,OAAO,CAACC,GAAR,CAAYN,EAAZ;AACA,SAAOA,EAAP;AACH,CANM;AAQP,OAAO,MAAMU,cAAc,GAAG,MAAOlB,MAAP,IAAiB;AAC3C,QAAMG,QAAQ,GAAG,MAAMR,IAAI,CAACE,GAAL,CAASO,WAAT,EAAvB;AACA,QAAMC,YAAY,GAAGV,IAAI,CAACW,KAAL,CAAWC,SAAX,CAAqBP,MAArB,CAArB;AACA,QAAMQ,EAAE,GAAE,MAAMZ,UAAU,CAACa,OAAX,CAAmBU,cAAnB,CAAkCd,YAAlC,EAAgDY,IAAhD,CAAqD;AAACL,IAAAA,IAAI,EAAET,QAAQ,CAAC,CAAD;AAAf,GAArD,CAAhB;AACA,SAAOK,EAAP;AACH,CALM","sourcesContent":["import Web3 from 'web3';\n\nimport {STOCK_ORACLE_ABI,STOCK_ORACLE_ADDRESS} from \"./contractInfo\"\nconst web3 = new Web3(\"http://localhost:8545\");\nconst stockQuote = new web3.eth.Contract(STOCK_ORACLE_ABI,STOCK_ORACLE_ADDRESS);\nexport const addStock = async (symbol,price,volume)=> {\n\n    const accounts = await web3.eth.getAccounts();\n\n    const bytes4Symbol = web3.utils.fromAscii(symbol);\n    const tx= await stockQuote.methods.setStock(bytes4Symbol,price,volume).send({from: accounts[0]});\n    console.log(tx)\n}\n\nexport const getPriceStock = async (symbol)=> {\n    const accounts = await web3.eth.getAccounts();\n    const bytes4Symbol = web3.utils.fromAscii(symbol);\n    const tx= await stockQuote.methods.getStockPrice(bytes4Symbol).call({from: accounts[0]});\n    console.log(tx);\n    return tx;\n}\n\nexport const getVolumeStock = async (symbol)=> {\n    const accounts = await web3.eth.getAccounts();\n    const bytes4Symbol = web3.utils.fromAscii(symbol);\n    const tx= await stockQuote.methods.getStockVolume(bytes4Symbol).call({from: accounts[0]});\n    return tx;\n}\n"]},"metadata":{},"sourceType":"module"}